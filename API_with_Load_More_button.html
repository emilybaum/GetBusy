<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="https://code.jquery.com/jquery.js"></script>
</head>
<body>
    <div id="events"></div>
    <button id="load-more">Load More</button>
    <script type="text/javascript">
    var privateAPIKey = "Q2VRCE5ZUCJTZ5IFWVHG";
    var searchTerm = "knitting"
    var sort = "date"
    var address = "10011"
    var distance = 5 + "mi"
    var queryURL = "https://www.eventbriteapi.com/v3/events/search/?q=" + searchTerm + "&sort_by=" + sort + "&location.address="+ address + "&location.within=" + distance + "&token=Q2VRCE5ZUCJTZ5IFWVHG"

    var newEventArr = [];
    function displayEvents(arr) {
        for (i = 0; i < 4; i++) {
            eventContainer = $("#events");
            eventDiv = $("<div>");
            eventDiv.append("<h1>" + arr[i].name.html + "</h1><br>");
            eventDiv.append("<img src=" + arr[i].logo.original.url + " style='width:400px'</img>");
            eventDiv.append("<p>" + arr[i].description.text + "</p>");
            eventContainer.append(eventDiv);
        };
        arr.splice(0,4);
        newEventArr = arr;
        console.log(newEventArr);
    };

    function getData(){
        $.ajax({
            url: queryURL,
            method: "GET",
        }).then(function(response){
            console.log(response);
            newEventArr = response.events;
            console.log(newEventArr);
            displayEvents(newEventArr);
        });
    }
    getData();
    $("#load-more").on("click", function(event) {
        displayEvents(newEventArr);
    });
    </script>
</body>
</html>